/* THEME VARIABLES */
:root[data-theme="dark"]{
  --bg: #0b0f1a;           /* page background */
  --panel: #0f172a;        /* header/cards */
  --ink: #e5e7eb;          /* text */
  --muted: #94a3b8;
  --accent: #22c55e;
  --danger: #ef4444;
  --focus: #60a5fa;

  --editor-bg: #0a1222;    /* editor background */
  --editor-ink: #e5e7eb;
}
:root[data-theme="light"]{
  --bg: #f5f7fb;
  --panel: #ffffff;
  --ink: #0f172a;
  --muted: #475569;
  --accent: #0ea5e9;
  --danger: #dc2626;
  --focus: #2563eb;

  --editor-bg: #ffffff;
  --editor-ink: #0f172a;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font: 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Arial,sans-serif;
  color: var(--ink);
  background: var(--bg);
}

.appbar {
  position: sticky; top: 0; z-index: 10;
  display: flex; align-items: center; justify-content: space-between;
  background: var(--panel);
  border-bottom: 1px solid rgba(148,163,184,.25);
  padding: .5rem 1rem;
}
.brand { font-weight: 700; letter-spacing: .2px; user-select: none; }
.toolbar { display: flex; align-items: center; gap: .5rem; }
.toolbar button {
  background: transparent; color: var(--ink); border: 1px solid rgba(148,163,184,.25);
  padding: .35rem .7rem; border-radius: .6rem; cursor: pointer;
}
.toolbar button:hover { background: rgba(148,163,184,.12); }
.toolbar .spacer { flex: 1; }
.status { display: inline-flex; align-items: center; gap: .5rem; color: var(--muted); font-size: .9rem; }
.status .dot { width: .6rem; height: .6rem; border-radius: 50%; background: var(--danger); display: inline-block; }

/* FULL-WIDTH LAYOUT */
main { width: 100%; padding: 1rem; }
.meta {
  display: grid;
  grid-template-columns: repeat(4, minmax(220px, 1fr)) auto;
  gap: .75rem; align-items: end; margin-bottom: .75rem;
}
.meta label { display: grid; gap: .25rem; color: var(--muted); font-size: .9rem; }
.meta input {
  background: var(--panel);
  border: 1px solid rgba(148,163,184,.25);
  color: var(--ink);
  padding: .5rem .6rem; border-radius: .5rem;
}
.meta-right { display: flex; gap: 1rem; align-items: center; justify-self: end; color: var(--muted); }

/* EDITOR */
.editor-shell {
  background: var(--editor-bg);
  border: 1px solid rgba(148,163,184,.25);
  border-radius: .8rem;
  overflow: hidden;
  width: 100%;
}
#editor{
  width: 100%;
  min-height: calc(100vh - 220px);
  background: var(--editor-bg);
  color: var(--editor-ink);
  border: none; outline: none; resize: none;
  padding: 1rem 1.25rem; font-size: 1.05rem; line-height: 1.65;
  caret-color: var(--accent);
}
#editor:disabled { opacity: .65; }

/* Print-only elements hidden on screen */
#printHeader, #printView { display: none; }

/* PRINT: plain text, no scrollbars, no app chrome */
@media print{
  body { background: white; color: black; }
  .appbar, .meta, #fullscreenBtn, #themeBtn { display: none !important; }
  .editor-shell { border: none; background: transparent; }
  #editor { display: none !important; }
  #printHeader, #printView { display: block; }
  #printHeader { margin-bottom: .5rem; font-size: 12pt; }
  #printHeader > div { margin: .1rem 0; }
  #printView{
    white-space: pre-wrap; word-wrap: break-word;
    font: 12pt/1.5 "Courier New", ui-monospace, Menlo, Consolas, monospace;
    padding: 0; margin: 0; overflow: visible; min-height: 100vh;
  }
}
